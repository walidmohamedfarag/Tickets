@model Actor

<div class="container">
    <div class="row mb-3 align-items-center my-3">
        <div class="col-md-6">
            <h2 class="display-6">Add Actor</h2>
        </div>
    </div>

    <div class="row my-3">
        <div class="col-12">
            <form method="post" enctype="multipart/form-data">
                <div class="mb-3">
                    <label for="name" class="form-label">Name</label>
                    <input class="form-control" name="FullName" value="@Model.FullName">
                </div>
                <div class="mb-3">
                    <label for="image" class="form-label">Image</label>
                    <input class="form-control" type="file" name="img" value="@Model.Img" onchange="previewImage(event)">
                </div>
                <div class="mb-3">
                    <img id="preview"
                         src="~/ActorImage/@Model.Img"
                         alt="Current Image"
                         style="max-width: 200px; border:1px solid #ccc; padding:5px; border-radius:10px;" />
                </div>
                <div class="mb-3">
                    <label for="BirthDate" class="form-label">Birth Date</label>
                    <div class="d-flex gap-2">
                        <select id="year" name="Year" class="form-select" style="width: 33%;"></select>
                        <select id="month" name="Month" class="form-select" style="width: 33%;"></select>
                        <select id="day" name="Day" class="form-select" style="width: 33%;"></select>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>
</div>
<script>
    function previewImage(event) {
        const input = event.target;
        const preview = document.getElementById("preview");

        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) {
                preview.src = e.target.result; // الصورة الجديدة
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
@section Scripts {
    <partial name="_NotificationPartial">
}
<script>
    const yearSelect = document.getElementById("year");
    const monthSelect = document.getElementById("month");
    const daySelect = document.getElementById("day");

    // 🗓️ تعبئة السنوات (من 1950 إلى السنة الحالية)
    const currentYear = new Date().getFullYear();
    for (let y = currentYear; y >= 1950; y--) {
      const option = document.createElement("option");
      option.value = y;
      option.textContent = y;
      yearSelect.appendChild(option);
    }

    // 🗓️ تعبئة الشهور
    const months = [
      "يناير", "فبراير", "مارس", "أبريل", "مايو", "يونيو",
      "يوليو", "أغسطس", "سبتمبر", "أكتوبر", "نوفمبر", "ديسمبر"
    ];
    months.forEach((m, i) => {
      const option = document.createElement("option");
      option.value = i + 1;
      option.textContent = m;
      monthSelect.appendChild(option);
    });

    // 🗓️ تحديث الأيام حسب الشهر والسنة المختارة
    function updateDays() {
      daySelect.innerHTML = "";
      const year = yearSelect.value;
      const month = monthSelect.value;
      const daysInMonth = new Date(year, month, 0).getDate();

      for (let d = 1; d <= daysInMonth; d++) {
        const option = document.createElement("option");
        option.value = d;
        option.textContent = d;
        daySelect.appendChild(option);
      }
    }

    yearSelect.addEventListener("change", updateDays);
    monthSelect.addEventListener("change", updateDays);

    // تعبئة أول مرة
    updateDays();
</script>
